syntax = "proto3";

package planning.umbp;

message EfficiencyCost {
    double ego_lack_speed_to_desired_unit_cost = 1;
    double ego_over_speed_to_desired_unit_cost = 2;
    double ego_desired_speed_tolerate_gap = 3;
    double leading_distance_th = 4;
    double min_distance_ratio = 5;
    double ego_speed_blocked_by_leading_unit_cost = 6;
    double leading_speed_blocked_desired_vel_unit_cost = 7;
}

message SafetyCost {
    double ego_to_obs = 1;
}

message UserCost {
    double late_operate_unit_cost = 1;
    double cancel_operation_unit_cost = 2;
}

message NavigationCost {
    double ref_line_change = 1;
}

message HdiCost {
    double hdi_weight = 1;
    int32 hdi_win_size = 2;
}

message FpbConfig {
    double layer_time = 1;
    double step = 2;
    int32 tree_height = 3;
    double l_ref_to_left_road_bound = 4;
    double l_ref_to_right_road_bound = 5;
}

message SampleConfig {
    double s_sample_distance = 1;
    int32 s_sample_num = 2;
    double l_sample_distance = 3;
    int32 l_sample_num = 4;
    double acc_ref = 5;
    double dec_ref = 6;
    double lane_width = 7;
    double increased_sl_distance = 8;
    double increased_st_distance = 9;
}

message PropogateConfig {
    FpbConfig fpb = 1;
    SampleConfig sample = 2;
}

message CostConfig {
    EfficiencyCost efficiency = 1;
    SafetyCost safety = 2;
    UserCost user = 3;
    NavigationCost navigation = 4;
    double discount_factor = 5;
    HdiCost hdi = 6;
}

message EgoConfig {
    CarConfig car = 1;
    MapConfig map = 2;
}

message BezierConfig {
    WeightConfig weight = 1; 
    CubeConfig cube = 2;
}

message WeightConfig{
    double weight_P = 1;
    double weight_c = 2;
}

message CubeConfig{
    double v_lb_s = 1;
    double v_lb_l = 2;
    double v_ub_s = 3;
    double v_ub_l = 4;
    double a_lb_s = 5;
    double a_lb_l = 6;
    double a_ub_s = 7;
    double a_ub_l = 8;
}


message CarConfig {
    double car_width = 1;
    double car_length = 2;
}

message MapConfig {
    double reference_speed = 1;
}


message Config {
  string name = 1;
  string version = 2;
  string status = 3;
  CostConfig cost = 4;
  PropogateConfig propogate = 5;
  EgoConfig ego = 6;
  BezierConfig bezier = 7;
}
